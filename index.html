<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- Favicon and App Icons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- SEO and Search Engine Icons -->
    <meta name="msapplication-TileColor" content="#facc15" />
    <meta name="msapplication-TileImage" content="/android-chrome-192x192.svg" />
    <meta name="msapplication-config" content="/browserconfig.xml" />
    
    <title>FatePath - Professional BaZi Reading Service | Free Bazi Chart Analysis | Chinese Numerology Expert</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#facc15" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="FatePath" />
    <link rel="apple-touch-icon" href="/images/icons/icon-192x192.png" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="description" content="FatePath - Get your free BaZi chart analysis today! Professional Chinese numerology expert with 15+ years experience. BaZi reading for career guidance, love compatibility, wealth analysis. Online consultation worldwide." />
    <meta name="keywords" content="fatepath, bazi reading, free bazi chart analysis, chinese numerology expert, bazi career guidance, bazi love compatibility, bazi wealth analysis, online bazi consultation, bazi master consultation, traditional chinese numerology, bazi chart calculator, bazi relationship reading, bazi life path analysis" />
    <meta name="author" content="FatePath" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://fatepath.me/" />
    <meta property="og:title" content="FatePath - Professional BaZi Reading Service | Free Bazi Chart Analysis" />
    <meta property="og:description" content="FatePath - Get your free BaZi chart analysis today! Professional Chinese numerology expert with 15+ years experience. BaZi reading for career guidance, love compatibility, wealth analysis." />
    <meta property="og:image" content="https://fatepath.me/og-image.svg" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://fatepath.me/" />
    <meta property="twitter:title" content="FatePath - Professional BaZi Reading Service | Free Bazi Chart Analysis" />
    <meta property="twitter:description" content="FatePath - Get your free BaZi chart analysis today! Professional Chinese numerology expert with 15+ years experience. BaZi reading for career guidance, love compatibility, wealth analysis." />
    <meta property="twitter:image" content="https://fatepath.me/og-image.svg" />

    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
    
    <!-- Fonts with display=swap for better performance -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700;800&family=Cinzel:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Preload critical resources -->
    <!-- 移除favicon预加载，避免控制台警告 -->
    
    <!-- Google Analytics - 延迟加载以避免阻塞移动端渲染 -->
    <script>
      // 延迟加载 Google Analytics
      setTimeout(() => {
        const script = document.createElement('script');
        script.src = 'https://www.googletagmanager.com/gtag/js?id=G-GCNP2F5NJC';
        script.async = true;
        script.onload = function() {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-GCNP2F5NJC', {
            'page_title': document.title,
            'page_location': window.location.href,
            'allow_google_signals': false,
            'allow_ad_personalization_signals': false,
            'anonymize_ip': true
          });
          
          // 开发环境调试
          if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
            console.log('🔍 Google Analytics 已加载（开发模式）');
          }
        };
        document.head.appendChild(script);
      }, 2000); // 延迟2秒加载
    </script>
    
    <!-- Google Tag Manager - 延迟加载 -->
    <script>
      // 延迟加载 Google Tag Manager
      setTimeout(() => {
        const script = document.createElement('script');
        script.innerHTML = `
          (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
          new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
          'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
          })(window,document,'script','dataLayer','GTM-5623V8HV');
        `;
        document.head.appendChild(script);
      }, 3000); // 延迟3秒加载
    </script>
    <!-- End Google Tag Manager -->
    
    <!-- Google Ads Global Site Tag - 延迟加载 -->
    <script>
      // 延迟加载 Google Ads
      setTimeout(() => {
        const script = document.createElement('script');
        script.src = 'https://www.googletagmanager.com/gtag/js?id=AW-17430671654';
        script.async = true;
        script.onload = function() {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'AW-17430671654');
          
          // Google Ads 转化跟踪配置
          gtag('config', 'AW-17430671654', {
            'conversion_id': 'AW-17430671654',
            'conversion_label': 'e2eYCNWo1P4aEKbiy_dA'
          });
          
          // 开发环境调试
          if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
            console.log('🔍 Google Ads 已加载（开发模式）');
            console.log('🎯 转化ID: AW-17430671654');
            console.log('🏷️ 转化标签: e2eYCNWo1P4aEKbiy_dA');
          }
        };
        document.head.appendChild(script);
      }, 4000); // 延迟4秒加载
    </script>
    
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ProfessionalService",
      "name": "FatePath",
      "alternateName": "Mystic Wisdom, FatePath BaZi Reading",
      "description": "FatePath - Professional BaZi reading, love compatibility analysis, and custom talismans based on ancient Chinese numerology and astrology.",
      "url": "https://fatepath.me",
      "logo": "https://fatepath.me/favicon.svg",
      "image": "https://fatepath.me/og-image.svg",
      "telephone": "+86-15914228258",
      "email": "chenxiao0801@hotmail.com",
             "address": {
         "@type": "PostalAddress",
         "addressCountry": "US"
       },
      "serviceType": ["BaZi Reading", "Chinese Numerology", "Love Compatibility Analysis", "Custom Talisman", "Spiritual Guidance"],
      "areaServed": "Worldwide",
      "priceRange": "$$",
      "currenciesAccepted": "USD, CNY",
      "paymentAccepted": "PayPal",
      "openingHours": "Mo-Su 09:00-21:00",
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "Mystic Services",
        "itemListElement": [
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Detailed Bazi Reading",
              "description": "Comprehensive life path analysis through Bazi (八字) analysis including personality, career, and life purpose"
            },
            "price": "38",
            "priceCurrency": "USD",
            "availability": "https://schema.org/InStock"
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Love Compatibility Reading",
              "description": "Relationship and partnership analysis through Bazi compatibility and Five Elements theory"
            },
            "price": "44",
            "priceCurrency": "USD",
            "availability": "https://schema.org/InStock"
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Custom Talisman",
              "description": "Personalized protection talisman crafted specifically for your unique birth chart"
            },
            "price": "129",
            "priceCurrency": "USD",
            "availability": "https://schema.org/InStock"
          }
        ]
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "5.0",
        "reviewCount": "50",
        "bestRating": "5",
        "worstRating": "1"
      },
      "review": [
        {
          "@type": "Review",
          "reviewRating": {
            "@type": "Rating",
            "ratingValue": "5",
            "bestRating": "5"
          },
          "author": {
            "@type": "Person",
            "name": "Sarah Johnson"
          },
          "reviewBody": "The BaZi report was incredibly accurate and helped me understand my career path better."
        }
      ]
    }
    </script>


  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript>
      <iframe 
        src="https://www.googletagmanager.com/ns.html?id=GTM-5623V8HV"
        height="0" 
        width="0" 
        style="display:none;visibility:hidden">
      </iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    <div id="root"></div>
    
    <!-- 温和的移动端修复脚本 - 不干扰正常加载 -->
    <script>
      // 温和的移动端修复脚本，只在必要时干预
      (function() {
        console.log('🔧 启动温和的移动端修复脚本...');
        
        // 检测是否为移动设备
        function isMobileDevice() {
          return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||
                 window.innerWidth <= 768;
        }
        
        // 检测是否为直接访问
        function isDirectAccess() {
          const referrer = document.referrer;
          return !referrer || 
                 referrer.includes('google.com') || 
                 referrer.includes('googleadservices.com') ||
                 referrer.includes('doubleclick.net') ||
                 referrer.includes('googlesyndication.com') ||
                 referrer.includes('bing.com') ||
                 referrer.includes('facebook.com') ||
                 referrer.includes('twitter.com') ||
                 referrer.includes('youtube.com') ||
                 referrer.includes('instagram.com');
        }
        
        // 温和的修复策略 - 只在页面真正白屏时干预
        function gentleMobileFix() {
          console.log('🎯 应用温和的移动端修复策略...');
          
          // 等待React应用自然加载
          setTimeout(() => {
            const root = document.getElementById('root');
            if (root && root.children.length === 0) {
              console.log('⚠️ 检测到移动端页面为空，应用温和修复...');
              
              // 显示简单的加载提示，不替换整个页面
              const loadingDiv = document.createElement('div');
              loadingDiv.id = 'mobile-loading-hint';
              loadingDiv.innerHTML = `
                <div style="
                  position: fixed;
                  top: 50%;
                  left: 50%;
                  transform: translate(-50%, -50%);
                  background: rgba(26, 26, 26, 0.9);
                  color: white;
                  padding: 20px;
                  border-radius: 12px;
                  text-align: center;
                  z-index: 9999;
                  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                  max-width: 300px;
                  backdrop-filter: blur(10px);
                ">
                  <h3 style="color: #fbbf24; margin: 0 0 10px 0; font-size: 1.2rem;">FatePath</h3>
                  <p style="margin: 0 0 15px 0; font-size: 0.9rem;">页面加载中，请稍候...</p>
                  <button onclick="this.parentElement.parentElement.remove()" style="
                    background: #fbbf24;
                    color: #1a1a1a;
                    border: none;
                    padding: 8px 16px;
                    border-radius: 6px;
                    font-size: 0.8rem;
                    cursor: pointer;
                  ">关闭</button>
                </div>
              `;
              
              document.body.appendChild(loadingDiv);
              
              // 5秒后自动移除提示
              setTimeout(() => {
                const hint = document.getElementById('mobile-loading-hint');
                if (hint) hint.remove();
              }, 5000);
            }
          }, 5000); // 等待5秒，给React应用足够时间加载
        }
        
        // 只在移动端且直接访问时应用修复
        if (isMobileDevice() && isDirectAccess()) {
          console.log('📱 检测到移动端直接访问，启用温和修复...');
          gentleMobileFix();
        } else {
          console.log('ℹ️ 非移动端或非直接访问，跳过修复');
        }
        
        // 导出修复函数供外部使用
        window.gentleMobileFix = gentleMobileFix;
        
        console.log('✅ 温和的移动端修复脚本初始化完成');
        
      })();
    </script>
    
    <!-- 主应用脚本 -->
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html> 