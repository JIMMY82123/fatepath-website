<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- Favicon and App Icons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- SEO and Search Engine Icons -->
    <meta name="msapplication-TileColor" content="#facc15" />
    <meta name="msapplication-TileImage" content="/android-chrome-192x192.svg" />
    <meta name="msapplication-config" content="/browserconfig.xml" />
    
    <title>FatePath - Professional BaZi Reading Service | Free Bazi Chart Analysis | Chinese Numerology Expert</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#facc15" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="FatePath" />
    <link rel="apple-touch-icon" href="/images/icons/icon-192x192.png" />
    <link rel="manifest" href="/manifest.json" />
    <meta name="description" content="FatePath - Get your free BaZi chart analysis today! Professional Chinese numerology expert with 15+ years experience. BaZi reading for career guidance, love compatibility, wealth analysis. Online consultation worldwide." />
    <meta name="keywords" content="fatepath, bazi reading, free bazi chart analysis, chinese numerology expert, bazi career guidance, bazi love compatibility, bazi wealth analysis, online bazi consultation, bazi master consultation, traditional chinese numerology, bazi chart calculator, bazi relationship reading, bazi life path analysis" />
    <meta name="author" content="FatePath" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://fatepath.me/" />
    <meta property="og:title" content="FatePath - Professional BaZi Reading Service | Free Bazi Chart Analysis" />
    <meta property="og:description" content="FatePath - Get your free BaZi chart analysis today! Professional Chinese numerology expert with 15+ years experience. BaZi reading for career guidance, love compatibility, wealth analysis." />
    <meta property="og:image" content="https://fatepath.me/og-image.svg" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://fatepath.me/" />
    <meta property="twitter:title" content="FatePath - Professional BaZi Reading Service | Free Bazi Chart Analysis" />
    <meta property="twitter:description" content="FatePath - Get your free BaZi chart analysis today! Professional Chinese numerology expert with 15+ years experience. BaZi reading for career guidance, love compatibility, wealth analysis." />
    <meta property="twitter:image" content="https://fatepath.me/og-image.svg" />

    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
    
    <!-- Fonts with display=swap for better performance -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@300;400;500;600;700&family=Poppins:wght@400;500;600;700;800&family=Cinzel:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Preload critical resources -->
    <!-- ç§»é™¤faviconé¢„åŠ è½½ï¼Œé¿å…æ§åˆ¶å°è­¦å‘Š -->
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GCNP2F5NJC"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-GCNP2F5NJC');
    </script>
    
    <!-- Google Tag Manager - å»¶è¿ŸåŠ è½½ -->
    <script>
      // å»¶è¿ŸåŠ è½½ Google Tag Manager
      setTimeout(() => {
        const script = document.createElement('script');
        script.innerHTML = `
          (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
          new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
          'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
          })(window,document,'script','dataLayer','GTM-5623V8HV');
        `;
        document.head.appendChild(script);
      }, 3000); // å»¶è¿Ÿ3ç§’åŠ è½½
    </script>
    <!-- End Google Tag Manager -->
    
    <!-- Google Ads Global Site Tag - å»¶è¿ŸåŠ è½½ -->
    <script>
      // å»¶è¿ŸåŠ è½½ Google Ads
      setTimeout(() => {
        const script = document.createElement('script');
        script.src = 'https://www.googletagmanager.com/gtag/js?id=AW-17430671654';
        script.async = true;
        script.onload = function() {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'AW-17430671654');
          
          // Google Ads è½¬åŒ–è·Ÿè¸ªé…ç½®
          gtag('config', 'AW-17430671654', {
            'conversion_id': 'AW-17430671654',
            'conversion_label': 'e2eYCNWo1P4aEKbiy_dA'
          });
          
          // å¼€å‘ç¯å¢ƒè°ƒè¯•
          if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
            console.log('ğŸ” Google Ads å·²åŠ è½½ï¼ˆå¼€å‘æ¨¡å¼ï¼‰');
            console.log('ğŸ¯ è½¬åŒ–ID: AW-17430671654');
            console.log('ğŸ·ï¸ è½¬åŒ–æ ‡ç­¾: e2eYCNWo1P4aEKbiy_dA');
          }
        };
        document.head.appendChild(script);
      }, 4000); // å»¶è¿Ÿ4ç§’åŠ è½½
    </script>
    
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ProfessionalService",
      "name": "FatePath",
      "alternateName": "Mystic Wisdom, FatePath BaZi Reading",
      "description": "FatePath - Professional BaZi reading, love compatibility analysis, and custom talismans based on ancient Chinese numerology and astrology.",
      "url": "https://fatepath.me",
      "logo": "https://fatepath.me/favicon.svg",
      "image": "https://fatepath.me/og-image.svg",
      "telephone": "+86-15914228258",
      "email": "chenxiao0801@hotmail.com",
             "address": {
         "@type": "PostalAddress",
         "addressCountry": "US"
       },
      "serviceType": ["BaZi Reading", "Chinese Numerology", "Love Compatibility Analysis", "Custom Talisman", "Spiritual Guidance"],
      "areaServed": "Worldwide",
      "priceRange": "$$",
      "currenciesAccepted": "USD, CNY",
      "paymentAccepted": "PayPal",
      "openingHours": "Mo-Su 09:00-21:00",
      "hasOfferCatalog": {
        "@type": "OfferCatalog",
        "name": "Mystic Services",
        "itemListElement": [
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Detailed Bazi Reading",
              "description": "Comprehensive life path analysis through Bazi (å…«å­—) analysis including personality, career, and life purpose"
            },
            "price": "38",
            "priceCurrency": "USD",
            "availability": "https://schema.org/InStock"
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Love Compatibility Reading",
              "description": "Relationship and partnership analysis through Bazi compatibility and Five Elements theory"
            },
            "price": "44",
            "priceCurrency": "USD",
            "availability": "https://schema.org/InStock"
          },
          {
            "@type": "Offer",
            "itemOffered": {
              "@type": "Service",
              "name": "Custom Talisman",
              "description": "Personalized protection talisman crafted specifically for your unique birth chart"
            },
            "price": "129",
            "priceCurrency": "USD",
            "availability": "https://schema.org/InStock"
          }
        ]
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "5.0",
        "reviewCount": "50",
        "bestRating": "5",
        "worstRating": "1"
      },
      "review": [
        {
          "@type": "Review",
          "reviewRating": {
            "@type": "Rating",
            "ratingValue": "5",
            "bestRating": "5"
          },
          "author": {
            "@type": "Person",
            "name": "Sarah Johnson"
          },
          "reviewBody": "The BaZi report was incredibly accurate and helped me understand my career path better."
        }
      ]
    }
    </script>


  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript>
      <iframe 
        src="https://www.googletagmanager.com/ns.html?id=GTM-5623V8HV"
        height="0" 
        width="0" 
        style="display:none;visibility:hidden">
      </iframe>
    </noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    <div id="root"></div>
    
    <!-- å¤šæµè§ˆå™¨å…¼å®¹æ€§ä¼˜åŒ–è„šæœ¬ -->
    <script>
      // å¤šæµè§ˆå™¨å…¼å®¹æ€§ä¼˜åŒ–å’Œä¿®å¤è„šæœ¬
      (function() {
        console.log('ğŸ”§ å¯åŠ¨å¤šæµè§ˆå™¨å…¼å®¹æ€§ä¼˜åŒ–è„šæœ¬...');
        
        // æµè§ˆå™¨æ£€æµ‹
        function detectBrowser() {
          const userAgent = navigator.userAgent;
          const isChrome = /Chrome/.test(userAgent) && !/Edge/.test(userAgent);
          const isSafari = /Safari/.test(userAgent) && !/Chrome/.test(userAgent);
          const isFirefox = /Firefox/.test(userAgent);
          const isEdge = /Edge/.test(userAgent);
          const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent);
          
          return {
            isChrome,
            isSafari,
            isFirefox,
            isEdge,
            isMobile,
            userAgent
          };
        }
        
        // æ£€æµ‹æ˜¯å¦ä¸ºç›´æ¥è®¿é—®
        function isDirectAccess() {
          const referrer = document.referrer;
          return !referrer || 
                 referrer.includes('google.com') || 
                 referrer.includes('googleadservices.com') ||
                 referrer.includes('doubleclick.net') ||
                 referrer.includes('googlesyndication.com') ||
                 referrer.includes('bing.com') ||
                 referrer.includes('facebook.com') ||
                 referrer.includes('twitter.com') ||
                 referrer.includes('youtube.com') ||
                 referrer.includes('instagram.com');
        }
        
        // Safariç‰¹å®šä¼˜åŒ–
        function applySafariOptimizations() {
          console.log('ğŸ åº”ç”¨Safariç‰¹å®šä¼˜åŒ–...');
          
          // Safariçš„WebKitä¼˜åŒ–
          if ('webkitRequestAnimationFrame' in window) {
            console.log('âœ… æ£€æµ‹åˆ°WebKitï¼Œå¯ç”¨Safariä¼˜åŒ–');
          }
          
          // å¼ºåˆ¶é‡ç»˜ï¼Œè§£å†³Safariæ¸²æŸ“é—®é¢˜
          setTimeout(() => {
            document.body.style.display = 'none';
            document.body.offsetHeight; // è§¦å‘é‡æ’
            document.body.style.display = '';
          }, 100);
        }
        
        // Chromeç‰¹å®šä¼˜åŒ–
        function applyChromeOptimizations() {
          console.log('ğŸŒ åº”ç”¨Chromeç‰¹å®šä¼˜åŒ–...');
          
          // Chromeçš„æ€§èƒ½ä¼˜åŒ–
          if ('requestIdleCallback' in window) {
            console.log('âœ… æ£€æµ‹åˆ°Chromeé«˜çº§APIï¼Œå¯ç”¨æ€§èƒ½ä¼˜åŒ–');
          }
          
          // Chromeç‰¹å®šçš„ES6æ¨¡å—åŠ è½½ä¼˜åŒ–
          try {
            // æ£€æŸ¥ES6æ¨¡å—æ”¯æŒ - ä½¿ç”¨é—´æ¥æ–¹æ³•é¿å…å…³é”®å­—å†²çª
            var importCheck = function() {
              try {
                return typeof window.import === 'function';
              } catch (e) {
                return false;
              }
            };
            
            if (importCheck()) {
              console.log('âœ… Chromeæ”¯æŒES6åŠ¨æ€å¯¼å…¥');
              
              // é¢„åŠ è½½å…³é”®èµ„æº
              var criticalResources = [
                '/src/main.jsx',
                '/src/App.jsx',
                '/src/pages/Home.jsx'
              ];
              
              for (var i = 0; i < criticalResources.length; i++) {
                var resource = criticalResources[i];
                var link = document.createElement('link');
                link.rel = 'prefetch';
                link.href = resource;
                document.head.appendChild(link);
              }
            }
          } catch (e) {
            console.log('âš ï¸ Chrome ES6æ¨¡å—æ£€æŸ¥è·³è¿‡');
          }
          
          // Chromeçš„ä¸¥æ ¼æ¨¡å¼å…¼å®¹æ€§æ£€æŸ¥
          try {
            // æµ‹è¯•Chromeçš„ä¸¥æ ¼æ¨¡å¼æ”¯æŒ
            eval('"use strict"; const testVar = 1;');
            console.log('âœ… Chromeä¸¥æ ¼æ¨¡å¼æ”¯æŒæ­£å¸¸');
          } catch (error) {
            console.warn('âš ï¸ Chromeä¸¥æ ¼æ¨¡å¼å¯èƒ½æœ‰é—®é¢˜:', error.message);
          }
          
          // Chromeçš„æ¨¡å—åŠ è½½é‡è¯•æœºåˆ¶
          window.chromeModuleRetry = function(scriptSrc, maxRetries) {
            if (maxRetries === undefined) maxRetries = 3;
            
            return new Promise(function(resolve, reject) {
              var attempts = 0;
              
              function loadScript() {
                attempts++;
                console.log('ğŸ”„ Chromeæ¨¡å—åŠ è½½å°è¯• ' + attempts + '/' + maxRetries + ': ' + scriptSrc);
                
                var script = document.createElement('script');
                script.type = 'module';
                script.src = scriptSrc;
                
                script.onload = function() {
                  console.log('âœ… Chromeæ¨¡å—åŠ è½½æˆåŠŸ');
                  resolve();
                };
                
                script.onerror = function(error) {
                  console.error('âŒ Chromeæ¨¡å—åŠ è½½å¤±è´¥ (å°è¯• ' + attempts + '):', error);
                  
                  if (attempts < maxRetries) {
                    console.log('â° ' + (attempts * 1000) + 'ms åé‡è¯•...');
                    setTimeout(loadScript, attempts * 1000);
                  } else {
                    reject(new Error('Chromeæ¨¡å—åŠ è½½å¤±è´¥ï¼Œå·²é‡è¯• ' + maxRetries + ' æ¬¡'));
                  }
                };
                
                document.head.appendChild(script);
              }
              
              loadScript();
            });
          };
          
          console.log('âœ… Chromeç‰¹å®šä¼˜åŒ–å®Œæˆ');
        }
        
        // Firefoxç‰¹å®šä¼˜åŒ–
        function applyFirefoxOptimizations() {
          console.log('ğŸ¦Š åº”ç”¨Firefoxç‰¹å®šä¼˜åŒ–...');
          
          // Firefoxçš„Geckoå¼•æ“ä¼˜åŒ–
          if ('mozRequestAnimationFrame' in window) {
            console.log('âœ… æ£€æµ‹åˆ°Geckoï¼Œå¯ç”¨Firefoxä¼˜åŒ–');
          }
        }
        
        // Edgeç‰¹å®šä¼˜åŒ–
        function applyEdgeOptimizations() {
          console.log('ğŸ”· åº”ç”¨Edgeç‰¹å®šä¼˜åŒ–...');
          
          // Edgeçš„Blinkå¼•æ“ä¼˜åŒ–
          if ('msRequestAnimationFrame' in window) {
            console.log('âœ… æ£€æµ‹åˆ°Edgeï¼Œå¯ç”¨Edgeä¼˜åŒ–');
          }
        }
        
        // é€šç”¨ç§»åŠ¨ç«¯ä¼˜åŒ–
        function applyMobileOptimizations() {
          console.log('ğŸ“± åº”ç”¨ç§»åŠ¨ç«¯é€šç”¨ä¼˜åŒ–...');
          
          // è§¦æ‘¸äº‹ä»¶ä¼˜åŒ–
          if ('ontouchstart' in window) {
            document.documentElement.style.touchAction = 'manipulation';
          }
          
          // è§†å£ä¼˜åŒ–
          const viewport = document.querySelector('meta[name="viewport"]');
          if (viewport) {
            viewport.setAttribute('content', 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no');
          }
        }
        
        // é¡µé¢åŠ è½½çŠ¶æ€ç›‘æ§
        function monitorPageLoad() {
          const root = document.getElementById('root');
          let loadAttempts = 0;
          const maxAttempts = 3;
          
          function checkPageLoad() {
            if (root && root.children.length > 0) {
              console.log('âœ… é¡µé¢åŠ è½½æˆåŠŸ');
              return;
            }
            
            loadAttempts++;
            if (loadAttempts < maxAttempts) {
              console.log(`âš ï¸ é¡µé¢åŠ è½½æ£€æŸ¥ ${loadAttempts}/${maxAttempts}`);
              setTimeout(checkPageLoad, 2000);
            } else {
              console.log('âŒ é¡µé¢åŠ è½½å¤±è´¥ï¼Œæ˜¾ç¤ºé”™è¯¯æç¤º');
              showErrorPrompt();
            }
          }
          
          // å»¶è¿Ÿæ£€æŸ¥ï¼Œç»™Reactåº”ç”¨è¶³å¤Ÿæ—¶é—´åŠ è½½
          setTimeout(checkPageLoad, 3000);
        }
        
        // æ˜¾ç¤ºé”™è¯¯æç¤º
        function showErrorPrompt() {
          const errorDiv = document.createElement('div');
          errorDiv.id = 'browser-error-prompt';
          errorDiv.innerHTML = `
            <div style="
              position: fixed;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              background: rgba(26, 26, 26, 0.95);
              color: white;
              padding: 25px;
              border-radius: 12px;
              text-align: center;
              z-index: 9999;
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
              max-width: 350px;
              backdrop-filter: blur(15px);
              border: 1px solid #fbbf24;
            ">
              <h3 style="color: #fbbf24; margin: 0 0 15px 0; font-size: 1.3rem;">é¡µé¢åŠ è½½é—®é¢˜</h3>
              <p style="margin: 0 0 20px 0; font-size: 0.95rem; line-height: 1.5;">
                æ£€æµ‹åˆ°æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ï¼Œå»ºè®®ï¼š
              </p>
              <ul style="text-align: left; margin: 0 0 20px 0; padding-left: 20px; font-size: 0.9rem;">
                <li>æ¸…é™¤æµè§ˆå™¨ç¼“å­˜</li>
                <li>åˆ·æ–°é¡µé¢é‡è¯•</li>
                <li>å°è¯•å…¶ä»–æµè§ˆå™¨</li>
              </ul>
              <div style="display: flex; gap: 10px; justify-content: center;">
                <button onclick="window.location.reload()" style="
                  background: #fbbf24;
                  color: #1a1a1a;
                  border: none;
                  padding: 10px 18px;
                  border-radius: 6px;
                  font-weight: 600;
                  cursor: pointer;
                  font-size: 0.9rem;
                ">åˆ·æ–°é¡µé¢</button>
                <button onclick="this.parentElement.parentElement.parentElement.remove()" style="
                  background: #374151;
                  color: white;
                  border: none;
                  padding: 10px 18px;
                  border-radius: 6px;
                  font-weight: 600;
                  cursor: pointer;
                  font-size: 0.9rem;
                ">å…³é—­</button>
              </div>
            </div>
          `;
          
          document.body.appendChild(errorDiv);
          
          // 10ç§’åè‡ªåŠ¨ç§»é™¤
          setTimeout(() => {
            const prompt = document.getElementById('browser-error-prompt');
            if (prompt) prompt.remove();
          }, 10000);
        }
        
        // ä¸»ä¼˜åŒ–é€»è¾‘
        function applyBrowserOptimizations() {
          const browser = detectBrowser();
          console.log('ğŸ” æ£€æµ‹åˆ°æµè§ˆå™¨:', {
            Chrome: browser.isChrome,
            Safari: browser.isSafari,
            Firefox: browser.isFirefox,
            Edge: browser.isEdge,
            Mobile: browser.isMobile
          });
          
          // åº”ç”¨æµè§ˆå™¨ç‰¹å®šä¼˜åŒ–
          if (browser.isSafari) {
            applySafariOptimizations();
          } else if (browser.isChrome) {
            applyChromeOptimizations();
          } else if (browser.isFirefox) {
            applyFirefoxOptimizations();
          } else if (browser.isEdge) {
            applyEdgeOptimizations();
          }
          
          // ç§»åŠ¨ç«¯ä¼˜åŒ–
          if (browser.isMobile) {
            applyMobileOptimizations();
          }
          
          // ç›‘æ§é¡µé¢åŠ è½½
          monitorPageLoad();
        }
        
        // æ‰§è¡Œä¼˜åŒ–
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', applyBrowserOptimizations);
        } else {
          applyBrowserOptimizations();
        }
        
        // å¯¼å‡ºå‡½æ•°ä¾›å¤–éƒ¨ä½¿ç”¨
        window.applyBrowserOptimizations = applyBrowserOptimizations;
        window.detectBrowser = detectBrowser;
        
        console.log('âœ… å¤šæµè§ˆå™¨å…¼å®¹æ€§ä¼˜åŒ–è„šæœ¬åˆå§‹åŒ–å®Œæˆ');
        
      })();
    </script>
    
    <!-- ä¸»åº”ç”¨è„šæœ¬ -->
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html> 